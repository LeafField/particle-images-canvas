var x=Object.defineProperty;var v=(s,h,c)=>h in s?x(s,h,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[h]=c;var t=(s,h,c)=>(v(s,typeof h!="symbol"?h+"":h,c),c);(function(){const h=document.createElement("link").relList;if(h&&h.supports&&h.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))f(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&f(d)}).observe(document,{childList:!0,subtree:!0});function c(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function f(e){if(e.ep)return;e.ep=!0;const r=c(e);fetch(e.href,r)}})();window.addEventListener("load",()=>{const s=document.querySelector("#canvas1"),h=s.getContext("2d",{willReadFrequently:!0});s.width=window.innerWidth,s.height=window.innerHeight;class c{constructor(i,o,a,n){t(this,"x");t(this,"y");t(this,"size");t(this,"vx");t(this,"vy");t(this,"originX");t(this,"originY");t(this,"ease");t(this,"dx");t(this,"dy");t(this,"distance");t(this,"force");t(this,"angle");t(this,"friction");t(this,"active");t(this,"timeout");this.effect=i,this.color=n,this.x=Math.random()*this.effect.width,this.y=0,this.originX=Math.floor(o),this.originY=Math.floor(a),this.size=this.effect.gap,this.vx=0,this.vy=0,this.ease=.03,this.friction=.98,this.dx=0,this.dy=0,this.distance=0,this.force=0,this.angle=0,this.active=!0,this.timeout=void 0}draw(i){i.fillStyle=this.color,i.fillRect(this.x,this.y,this.size,this.size)}update(){this.active&&(this.effect.mouse.x&&this.effect.mouse.y&&(this.dx=this.effect.mouse.x-this.x,this.dy=this.effect.mouse.y-this.y,this.distance=this.dx**2+this.dy**2,this.force=-this.effect.mouse.radius/this.distance),this.distance<this.effect.mouse.radius&&(this.angle=Math.atan2(this.dy,this.dx),this.vx+=this.force*Math.cos(this.angle),this.vy+=this.force*Math.sin(this.angle)),this.x+=(this.vx*=this.friction)+(this.originX-this.x)*this.ease,this.y+=(this.vy*=this.friction)+(this.originY-this.y)*this.ease)}warp(){this.x=Math.random()*this.effect.width,this.y=Math.random()*this.effect.height,this.ease=.1,this.size=this.effect.gap}blocks(){this.x=Math.random()*this.effect.width,this.y=Math.random()>.5?Math.random()*this.effect.height:this.effect.height,this.ease=.04,this.size=10}assemble(){clearTimeout(this.timeout),this.x=Math.random()*this.effect.width,this.y=Math.random()*this.effect.height,this.ease=.2,this.size=this.effect.gap,this.active=!1,this.effect.counter++,this.timeout=setTimeout(()=>{this.active=!0},this.effect.counter*.5)}particlePrint(){clearTimeout(this.timeout),this.x=this.effect.width*.5,this.y=this.effect.height,this.ease=.2,this.size=this.effect.gap,this.active=!1,this.effect.counter++,this.timeout=setTimeout(()=>{this.active=!0},this.effect.counter)}}class f{constructor(i,o){t(this,"particlesArray");t(this,"image");t(this,"centerX");t(this,"centerY");t(this,"x");t(this,"y");t(this,"gap");t(this,"mouse");t(this,"counter");this.width=i,this.height=o,this.particlesArray=[],this.image=document.querySelector("#image1"),this.centerX=this.width*.5,this.centerY=this.height*.5,this.x=this.centerX-this.image.width*.5,this.y=this.centerY-this.image.height*.5,this.gap=5,this.mouse={radius:3e3,x:void 0,y:void 0},window.addEventListener("mousemove",a=>{this.mouse.x=a.x,this.mouse.y=a.y}),this.counter=0}init(i){i.drawImage(this.image,this.x,this.y);const o=i.getImageData(0,0,s.width,s.height).data;for(let a=0;a<this.height;a+=this.gap)for(let n=0;n<this.width;n+=this.gap){const l=(a*this.width+n)*4,m=o[l],y=o[l+1],g=o[l+2],p=o[l+3],w=`rgb(${m},${y},${g})`;p>0&&this.particlesArray.push(new c(this,n,a,w))}}draw(i){this.particlesArray.forEach(o=>{o.draw(i)})}update(){this.particlesArray.forEach(i=>i.update())}warp(){this.particlesArray.forEach(i=>i.warp())}blocks(){this.particlesArray.forEach(i=>i.blocks())}assemble(){this.counter=0,this.particlesArray.forEach(i=>i.assemble())}particlePrint(){this.counter=0,this.particlesArray.forEach(i=>i.particlePrint())}}const e=new f(s.width,s.height);e.init(h),console.log(e);function r(){h.clearRect(0,0,s.width,s.height),e.draw(h),e.update(),requestAnimationFrame(r)}r(),document.querySelector(".warpButton").addEventListener("click",()=>{e.warp()}),document.querySelector(".blocksButton").addEventListener("click",()=>{e.blocks()}),document.querySelector(".assembleButton").addEventListener("click",()=>{e.assemble()}),document.querySelector(".particlePrintButton").addEventListener("click",()=>{e.particlePrint()})});
